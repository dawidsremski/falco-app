<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8">
  <meta name='viewport' content='width=device-width, initial-scale=1, viewport-fit=cover'>
  <title>Falco</title>
  <base href="/">
  <link href="https://fonts.googleapis.com/css?family=Montserrat|Open+Sans|Roboto|Josefin+Sans&display=swap"
        rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
<app-root></app-root>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAFC9h0XBTsS4xsYJA4dy05YeiK9OqA80Q" async defer></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
<script>

  //Fixes flexbox height issue in counter on iOS devices
  const fixCounter = function () {

    const counter = $('#counter');

    if (counter.css('flex-direction') === 'column') {
      counter.attr('style', '');
    }
  };

  $(document).ready(function () {
    fixCounter();
  });

  $(window).resize(function () {
    fixCounter();
  });

  function dt_counterFlip() {

    const oTop = $('#counter').offset().top - window.innerHeight;
    $(window).bind('scroll', function () {
      const pTop = $(this).scrollTop();

      if (pTop > oTop) {
        $(window).unbind('scroll');
        $('.count', '#counter').each(function () {
          $(this).prop('Counter', 0).animate({
            Counter: $(this).text()
          }, {
            duration: 4000,
            easing: 'swing',
            step: function (now) {
              $(this).text(Math.ceil(now));
            }
          });
        });
      }
    });


  }

  $(document).ready(function () {
    dt_counterFlip();
  });
</script>
</body>
</html>
