<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8">
  <meta name='viewport' content='width=device-width, initial-scale=1, viewport-fit=cover'>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Falco</title>
  <base href="/">
  <link href="https://fonts.googleapis.com/css?family=Montserrat|Open+Sans|Roboto|Josefin+Sans&display=swap"
        rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
<app-root></app-root>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAFC9h0XBTsS4xsYJA4dy05YeiK9OqA80Q" async defer></script>
<script
  src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
  integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8="
  crossorigin="anonymous"></script>

<script>

  //Fixes jumping background when scrolling on IE
  //
  var body = $('body');

  if(navigator.userAgent.match(/Trident\/7\./)) {

    body.on("mousewheel", function () {
      event.preventDefault();

      var wheelDelta = event.wheelDelta;

      var currentScrollPosition = window.pageYOffset;
      window.scrollTo(0, currentScrollPosition - wheelDelta);
    });

    body.keydown(function (e) {
      e.preventDefault();
      var currentScrollPosition = window.pageYOffset;

      switch (e.which) {

        case 38: // up
          window.scrollTo(0, currentScrollPosition - 120);
          break;

        case 40: // down
          window.scrollTo(0, currentScrollPosition + 120);
          break;

        default: return;
      }
    });
  }

  //End of fix
  //Fixes flexbox height issue in counter on iOS devices

  const fixCounter = function () {

    const counter = $('#counter');

    if (counter.css('flex-direction') === 'column') {
      counter.attr('style', '');
    }
  };

  //End of fix

  function dt_counterFlip() {

    const oTop = $('#counter').offset().top - window.innerHeight;
    $(window).bind('scroll', function () {
      const pTop = $(this).scrollTop();

      if (pTop > oTop) {
        $(window).unbind('scroll');
        $('.count', '#counter').each(function () {
          $(this).prop('Counter', 0).animate({
            Counter: $(this).text()
          }, {
            duration: 4000,
            easing: 'swing',
            step: function (now) {
              $(this).text(Math.ceil(now));
            }
          });
        });
      }
    });
  }

  $(document).ready(function () {
    fixCounter();
    //dt_counterFlip();
  });

  $(window).resize(function () {
    fixCounter();
  });
</script>
</body>
</html>
